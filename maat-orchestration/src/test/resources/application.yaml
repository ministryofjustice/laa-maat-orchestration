server:
  port: 8089

spring:
  main:
    allow-bean-definition-overriding: true
  security:
    oauth2:
      client:
        provider:
          hardship:
            token-uri: http://localhost:${wiremock.server.port}/oauth2/token
          ccc:
            token-uri: http://localhost:${wiremock.server.port}/oauth2/token
          ccp:
            token-uri: http://localhost:${wiremock.server.port}/oauth2/token
          cma:
            token-uri: http://localhost:${wiremock.server.port}/oauth2/token
          validation:
            token-uri: http://localhost:${wiremock.server.port}/oauth2/token
          maat-api:
            token-uri: http://localhost:${wiremock.server.port}/oauth2/token
        registration:
          hardship:
            client-id: dummy-client
            client-secret: dummy-secret
            authorization-grant-type: client_credentials
          ccc:
            client-id: dummy-client
            client-secret: dummy-secret
            authorization-grant-type: client_credentials
          ccp:
            client-id: dummy-client
            client-secret: dummy-client
            authorization-grant-type: client_credentials
          cma:
            client-id: dummy-client
            client-secret: dummy-client
            authorization-grant-type: client_credentials
          validation:
            client-id: dummy-client
            client-secret: dummy-client
            authorization-grant-type: client_credentials
          maat-api:
            client-id: dummy-client
            client-secret: dummy-client
            authorization-grant-type: client_credentials
      resource-server:
        jwt:
          issuer-uri: ${JWT_ISSUER_URI}

services:
  hardship-api:
    base-url: http://localhost:${wiremock.server.port}
    endpoints:
      find-url: ${services.hardship-api.base-url}/api/internal/v1/hardship/{hardshipReviewId}
      create-url: ${services.hardship-api.base-url}/api/internal/v1/hardship/
      update-url: ${services.hardship-api.base-url}/api/internal/v1/hardship/
      rollback-url: ${services.hardship-api.base-url}/api/internal/v1/hardship/rollback

  contribution-api:
    base-url: http://localhost:${wiremock.server.port}
    endpoints:
      calculate-contribution-url: ${services.contribution-api.base-url}/api/internal/v1/contribution/calculate-contribution
      request-transfer-url: ${services.contribution-api.base-url}/api/internal/v1/contribution/request-transfer
      check-contribution-rule-url: ${services.contribution-api.base-url}/api/internal/v1/contribution/check-contribution-rule
      contribution-summaries-url: ${services.contribution-api.base-url}/api/internal/v1/contribution/summaries

  crown-court-api:
    base-url: http://localhost:${wiremock.server.port}
    endpoints:
      update-application-url: ${services.crown-court-api.base-url}/api/internal/v1/proceedings
      update-crown-court-url: ${services.crown-court-api.base-url}/api/internal/v1/proceedings/update-crown-court

  cma-api:
    base-url: http://localhost:${wiremock.server.port}
    endpoints:
      find-url: ${services.cma-api.base-url}/api/internal/v1/assessment/means/{financialAssessmentId}/applicantId/{applicantId}
      create-url: ${services.cma-api.base-url}/api/internal/v1/assessment/means
      update-url: ${services.cma-api.base-url}/api/internal/v1/assessment/means

  maat-api:
    base-url: http://localhost:${wiremock.server.port}
    endpoints:
      call-stored-proc-url: ${services.maat-api.base-url}/api/internal/v1/assessment/execute-stored-procedure

retry-config:
  max-retries: 2
  min-back-off-period: 3
  jitter-value: 0.5
